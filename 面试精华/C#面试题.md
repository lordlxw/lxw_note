链接：

https://www.youtube.com/watch?v=BKynEBPqiIM&list=PLQMqUlV2_B8lC_MlZg-sMitFaA5-QJ0e4

# C# 面试问题



## Part I

>==Q1==：C# 和 .net 区别
>
>A：
>
>.net 是框架，C#是语言。
>
>C#有语法、文法、源代码
>
>.net 有 CLR、库的集合 和运行时、GC
>
>.net能帮我们编译运行程序
>
>

> ==Q2== framework & core 区别
>
> A：
>
> .net 5以上提供了一种统一（将.net framework 和 .net core 3.X整合）
>
> .netCore性能要优于.net framework。因为.net framwork里引用的dll都很大，.net core里拆分成了小块，用时内存占用更少。
>
> `NET Core` 及更高版本（如 .NET 5/6/7/8）使用 `dotnet build` 进行构建。
>
> .NET Framework` 应用程序使用 MSBuild 或 Visual Studio 来构建，不支持 `dotnet build`。
>
> .net Core中可以用CLI，但是framework不行。用命令行的优势就是可以与任何IDE集成，快速绘制模板。





> ==Q3==:什么是IL Code?
>
> A：C#程序要被运行，必须要被编译成汇编。C#不会直接转成机器语言，而是转成中间语言IL





> ==Q4==:JIT有什么用？
>
> A：JIT——即时编译器，运行IL代码并将其编译为机器语言。



> ==Q5==：能直接看到IL代码吗？
>
> A：用ILDSM 或 ILSPY等反编译工具就可以直观看到IL代码了。



> ==Q6==：编译成IL代码有啥好处呢？？或者说为什么要加一层？
>
> A：因为开发环境和运行环境的差异。IL可以负责统一整合。
>
> 假设开发人员用win10 64位
>
> 但运行时环境可以是win8、XP



> ==Q7==:.Net支持多种语言么？
>
> A：VB、F#、C#、C++



> ==Q8==:CLR的重要性？
>
> A：CLR代表公共语言运行时，它是.net运行时环境
>
> CLR主要做两件事：
>
> ①、将IL语言转为本机语言
>
> ②、运行程序时的GC，CLR负责垃圾回收





> ==Q9==:托管代码和非托管代码有啥区别？
>
> A：在CLR环境下执行的代码称为管理代码
>
> DllImport就是非托管代码。
>
> **托管代码**：内存管理由 **.NET 公共语言运行库 (CLR)** 自动处理。CLR 会通过垃圾回收（GC, Garbage Collection）机制自动分配和释放内存，程序员不需要手动管理内存。这降低了内存泄漏和悬挂指针等错误的风险。
>
> - 例如：C#、VB.NET 等 .NET 语言编写的代码是托管代码。
>
> **非托管代码**：内存管理完全由程序员手动控制，程序员需要显式地分配和释放内存。开发者需要使用诸如 `malloc`、`free`（C/C++）等手段来管理内存，这容易引发内存泄漏、越界访问等问题。
>
> - 例如：C、C++ 编写的代码通常是非托管代码。



> ==Q10==:GC的重要性？
>
> A：
>
> 垃圾收集器是一个连续运行的后台进程，并占用任何类型的未使用的托管资源。
>
> 针对托管资源，GC会时不时出现并开始清理。





> ==Q11==:GC可以声明非托管对象吗？
>
> A：
>
> 答案是否定的。GC无法收集在CLR之外创建的对象。



> ==Q12==:解释一下CTS的重要性？
>
> A：
>
> CTS代表通用类型系统。
>
> ![image-20241215150753478](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20241215150753478.png)
>
> **CTS** 是 .NET 平台中的一个核心概念，它定义了所有类型的统一标准，确保了不同编程语言之间的互操作性。
>
> 值类型 与 引用类型



> ==Q13==:CLS是啥？
>
> A：CLS代表公共语言规范。C#区分大小写
>
> **CLS**（Common Language Specification）则定义了一个子集，描述了 .NET 环境中所有语言必须遵守的规则。CLS 主要关注如何让不同语言之间的互操作更顺畅，而 CTS 关注如何定义类型系统。



> ==Q14==：堆和栈的区别？
>
> A：两种内存类型。
>
> 在栈上分配的是：整数、bool、double、decimal
>
> 变量和值存储在同一位置。
>
> 
>
> 堆上分配对象
>
> 创建对象时这个对象在栈上分配，但值将存储在堆中。
>
> **引用类型**（如 `class`、`array`、`delegate`）的对象本身是存储在 **堆** 上的，但对象的引用（指针）存储在栈中。也就是说，**栈上存储的是对象的引用地址，而堆上存储的是对象的数据（即实际内容）**





> ==Q15==：什么是值类型和引用类型？
>
> A：
>
> 值类型是存储在栈上的类型、值和指针存储在同一位置。
>
> 引用类型是指**对象的引用** 存储在栈上，而 **对象的数据** 存储在堆中。”