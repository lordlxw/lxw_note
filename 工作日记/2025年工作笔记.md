# 2025年工作笔记

## 4月笔记

> 04.01
第一次来涟元，md 10点多都没人来上班的
也不用打卡，五点就走，感觉还行

中午去芳华路那边办了一下离职，下午就收到工资了
还发了2个月，我也真懵了

好好干吧，这里的合同签到年底。希望能学到点东西

新的同事有一个微软MVP，感觉还是蛮厉害的，整体是blazor方向的。

> 04.02
跟许左吃了个饭，聊了下
我的方向还是 agent 和 微调？
不太懂，资方给了3000万？

上班十点前到就行了。。。我真佛了

知识图谱用neo4j？不太懂

> 04.03
出去吃饭完回来又遇到许左了

两个重要的表 余额表和序时账
我应该后面应该负责序时表？

mdgb让我做什么文本切割。。以最小口径切，税法按目录 前两章
我真佛了，啥都不会，让我周一交出来，真的离谱，感觉有点针对我？

> 04.04
和小林去人广逛了下，上海书城，变了好多，一点也不像纯粹的书城，啥都有，手办、饮品店、饭店
看到了凹凸世界？是小林负责的一块东西，也学了一点关于分镜的内容。

> 04.07
模型用的是千问。中饭还可以，15块不错了。
陈总和孙总过来给大家开了个会，自我介绍了一下，有点小尴尬。

> 04.08
今天和昨天都跟许左搞那个文本切割，反正搞了半天也不知道他目的是什么，给他切好的也都不满意。自己也只会指挥gpt调一些prompt，
技术上基本啥也不懂。
两天都搞到6.30，tmd。

> 04.09
切割文本搞了半天也没搞出来，给一个女生眼睛看切割了，反正言语中充满了对我工作的不满意。
呆起来还真蛮难受的。

> 04.10
多人合作的git用着还是不太习惯
今天遇到一个问题，我在xinwei分支上上传了代码，然后合并，但是合并完报错了，然后jenkins那边就退回了无法合并到main分支上。
晚上搞到了19：30，感觉这个有的好搞了，不同Excel都不一样。

> 04.11
舜杰给我布置了任务，导入Excel的时候进行跳转？跳到任务界面？
当导入数据后跳转到， 做一个任务列表界面跳转，后台任务管理用 hangfile

> 04.15
最近在做任务详情页面，搭了一下
许左说下周一给他看一版，加紧弄吧，不同公司不同规则，难搞。

> 04.21
好久没写笔记了，事情还是蛮多的。外公身体也不好，自己也很忙，哎，希望赶紧醒来吧。
天天都很忙，但不知道在忙些啥，很恐怖。
周末又做了一次切割工作，归纳版本，但感觉还是一坨屎，不能脱离人工修改，反正给到XZ了。

> 04.22
开了一天会，也不知道开些啥，有一个dagster的概念，等于是自动执行流程化任务？
研究了一下，蛮难的，有一个graphQL的概念
要我做个UI，就两个页面，一个登录界面，一个类chatgpt风格的UI来展示

> 04.23
周三又开了会，陈总那边改的部分总算修完了，试了很多prompt，最后还是人工修改的。
妈说要出去玩玩，还是陪陪他们吧，又是四人行，不带鹿鹿了。
打算去德清。以前听苏哥朋友说过，德清应该是个不错的地方。

> 04.24
周四了，把那个UI界面画了一下，其实就是copy了人家仓库代码的，也可以用作真实的api调用。
https://gitee.com/supertinys_ryan/chatgpt-ui 
许左说30号要报告，我寻思也报告不了啥玩意，两张图片而已。。。赶紧放假吧

> 04.25
许左让我跟新来的实习生宇昊 整整思路，就是关于pdf文本提取的
思路就是pdf每页转成图片，然后问AI切边角料，可以把杂乱信息先清除一遍
真正自动化清数据还是蛮难的

> 04.26
小林生日，去吃了 阿吾罗日料。有点小贵，经理送了份面（材料蛮丰富的），还是有点小感动的
红丝绒蛋糕感觉并没有想象的好吃，下次不买了。
去外滩找人拍了照片，发现头发真少啊，人也巨丑。哎，怎么调整一下吧

---

## 5月笔记

> 5.3-5.5
带着父母和外婆去了躺德清
其实没啥好玩的，逛了两个地方：下渚湖 和 新市古镇
吃了都是传统当地菜，味道都还是不错的

鹿鹿交给护工溜了两天
回家的路上为了让一个电瓶车摔倒了。。
腿瘸了，耳机还掉了一个nnd
准备咸鱼上配一个。

> 5.6
开了会，其实也不知道接下去做什么
跟宇昊对接下吧，把数据集自动化第一步做掉
导入pdf---》切割文本

> 5.7
许左说AI论文播报效率不高，以后改成每周三、五汇报一次
每人读一篇论文

> 5.8
下班看了一级爱死机，感觉还不错，得到了一个影片网站。
czzy77.com
好大的雨，搭同事的车回家了

> 5.9
沟通交流了AI论文，我也不知道在说什么。。。
下午跟宇昊讨论了一下 dagster  和 舜杰UI的显示方面

> 5.12
工作安排
一是dagster数据集自动化，对接舜杰UI
二是和志强沟通一下事宜，做AI2的数据集自动化，怎么嵌入
三是和宇昊一起合作一下吧

> 5.14
开了个早会，是和做税务的谢老师一起在五楼开的，做的是舜杰取数之后的内容。
学到了蛮多审计方面的知识的。
目前立信程瑞事务所的评级是B级，想往A级发展。

做审计的流程是：
①、承接表（拿两年的序时账和余额表数据），分为首次和连续
②、生成底稿（不同的方法---》不同的底稿）
重要性水平***——评价一个事务所的水平，是动态的。
举例
一个企业年度应纳增值税额为100万元，税务机关或审计师设定重要性水平为5%，即5万元。若发现申报错误金额为3万元，则低于重要性水平，可能不需调整；若超过5万元，则需要调整申报或进一步调查。

关注点：如果固定资产为负数---》重点关注。固定资产会按清单归类。

> 5.16
鼎信诺——一个扎根于税务开发的公司

> 5.19
每个人开了个会，说了下之后负责的内容
我是做数据集自动化这一块
就是和每个人都有关系。。。

感觉蛮复杂的，每一块都要可插拔式相当于。
6月之前我应该是把重心都放在这个设计上吧。慢慢来。

> 5.20
又开会了，本来和凯铭做的
后面可能要把和宇昊做的提前
就是阿里云调用api的功能
难点：
1、UI
2、如何部署到服务器

> 5.21-5.23
都是在做 数据保存的事情。有点烦的
一个功能点20分钟叫你写出来md
还和治冬做了些工作，周六还过来加班了md

晴生病了，这周没有出去玩
周六和苏他们玩了一个鬼屋，也就那样其实。。。还把手表忘在那里了
外公身体还是不太好，希望早点好转吧。

> 5.27
昨天周一，照样开了一天的会，不知道再开些什么
资方说觉得我们态度都不太好，迟到早退的。7点才回去的，拿了个手表。
学了下docker。其实还是蛮简单的
把前端部署上去了。

这周三汇报

---

## 6月笔记

> 6.3
> 感觉好多事情要做
>
> 1、加一个 不参与微调的按键，逻辑
> 2、根据output的标记提供新数据
> 3、提供给舜杰他们所需的api。
> ①pdf---》图片
>
> 6月底目标：
> 1、数据集自动化 初版本0的给出
>
> 本周计划（06.03-06.06）：
> 1、整理思路
> 2、根据output标记组成新数据
> 3、提供给舜杰需要的功能api



> 6.6
一个需求：
Blazor 前端 上传xlsx 在A100上跑本地模型的prompt，得到output，嵌入原本的xlsx并返回。

> 6.7,6.8
瓢泼大雨，md两天都加班。事情是真多。
头疼，为了周一的请假

> 6.9
周一面了个索雷博
下午3点不到，面到5.15，四位面试（三位技术，最后一位HR），听上去还行，如果没有更合适的就是我，希望感觉逃离xz吧。。

> 6.10
又有两个外企面试机会，很神奇，都来自51。以前从来没有过的。。

> 6.16-6.20
好久没记笔记了，周五还是不要脸地去问了索雷博面试结果，意料之中的没过，确实水平差了一点。哎
周末和小林去吃了 料理郎，感觉不如金匠hh
周末N2学了，但感觉听力好难啊，根本过不了。

> 6.24-6.26
改了下prompt，一直在搞docker的东西，发现web页面有，但是ef数据库却连接不上
docker占的体积好大啊。。。一个就把C盘塞满了。。我直接扩容了C盘50G

---

## 7月笔记

> 07.07
一眨眼都7月了，好久没写笔记了。
这几周一直在做许左的层级修改模块。
蛮有意思的，其实就是数据的拼接。
要点算法。
122334455，要往前回溯哪些层级是 需要扔进去的
然后发prompt得到回复这样。

> 昨天考了N2，总算结束了，应该还行？不知道啊，550，大热天散步了。
> 华东师范东川路500号太远了md。

> 晚上和小林吃了个蛮有氛围的餐厅，其实就是创意菜？味道还行，就是有点小贵，看到她弟弟了，没想到她家里人竟然也都知道我的存在，有点小意外。
> 感觉小林是蛮不错的人，拿了弟弟从日本拿回来的生巧克力。吃了一下，我能说没有罗森的好吃吗hh。接下来工作任务蛮重的，一是完成手下的几个按钮操作
> 二是要开始设计后面的拼接模块了。





> 07.11 很快一周就过去了。。。
>
> 工作部分，这周一直在做文本层级的部分，可以添加文本块和编辑文本块了。
>
> 甜子说要羽毛球比赛，想帮着训练一下。
>
> 结果说人太多了 就鸽子了。。。
>
>
> 这周给许左汇报的切割文本还是存有很多问题，让周二前调研一下再开始写。。
>
> 有点难的。怎么切，语义切还是字数切，得和凯铭好好讨论一下子。。
>
> 
>
> 07.12 周六
>
> 和小林去太阳宫溜达了一下
>
> 吃的是铁板烧，但是其实就是日料
>
> 味道还可以，牛舌很不错
>
>
> 07.13
>
> 跑了层级，md越来越慢了。。。我也无语了
>
> 跑了四个小时。。。





> 07.16
>
> 人生中比较奇妙的一天了。周三
>
> 一早来公司，李浩微信问我要手机号，楞了一下，结果是警察要跟我交流一下。
>
> 没绷住。公司还是把浩哥给告了hh
>
> 李浩说他在新创业公司做的怎么样，巴拉巴拉，然后吹了一嘴，希望我到他那去（客套话）
>
>
> 到了下午，接到了一个电话，我开始懵了一下，结果一听是面试电话，一个半月前面的索雷博竟然又来找我了。。很棒！然后预约了7.23的面试，我紧张的一逼，疯狂补了算法（写这篇是07.23）已经收到口头offer了。
>
> 很神奇的一天~~~



> 07.21
>
> 新的一周新的内耗
>
> 快下班了，讨论层级的东西。
>
> md脑袋都大了。太难了根本切不好好吧。



> 07.22
>
> 下班了 叫我妈打了个电话说...反正第二天要请假。



> 07.23
>
> 这两天都是早上四点就醒了，晚上也睡不着。
>
> 去面试了。。结果啥问题都没问我
>
> 就过了hhh，签约算了。外企还是很不错的。但我的简历和我离职的公司不是一个。。应该没啥事吧。
>
> xz约了双打。。md也太菜了。



> 07.24
>
> 上午和xz提了离职，也比较平静。
>
> 他让我8.11甚至8.18再走。那边不行啊。。。那边谈了最晚是08.07
>
> 下午胡HR直接上报global了，必去了hh。



> 07.25
>
> 早上HR胡说审批的结果下来了，没问题hh
>
> 下午能发offer了。



> 07.29
>
> 这几天过的太慢了
>
> Hr-胡 发了点邮件，让我准备一下入职的材料。其实还蛮多的。。
>
> 跟之前的领导 吴老师 和 董老师 都核对了一下，希望背调能通过吧（应该不会背调）。



> 07.30
>
> 恐怖的台风天，今天打车过来的。（打了半个钟头md）
>
> 不太想工作了。。。只想混完最后一周。。
>
> 8.8号汇报，但我8.6号离职。。应该没啥关系了？
>
> 希望能顺利跑路吧。。。周五还要体检。



## 8月笔记

> 08.01
>
> 又改那个层级导出了，md又要针对同属以往层级有一个新的规则。
>
> 下午和cursor（auto）斗智斗勇了一下午，都没写出来，md是真笨啊。。
>
> 还好志强过来帮我改了一下配置，换成sonnet，立马智力不一样了。还好得以顺利解决，（其实是周日又过来加了一会班。



> 08.03
>
> 没事干。。。下午过来加了一会班。和凯铭聊了一下，没想到凯铭是双胞胎，还是加拿大留学的。没想到啊。
>
> 晚上找了半天建行的原件。没找到，又有点小焦虑了。



> 08.04
>
> 最后三天！
>
> 忍一下，建行的卡还好在书包里找到了。
>
> 叫王老师开个离职证明就完事了。



> 08.06
>
> 拿到劳动手册了，啥也没有
>
> 请大家喝了个柠檬水，结束！（很多小鸭子）



> 08.07
>
> 入职的第一天，离职证明还是有问题，需要写入职时间。。。
>
> 哎，第一天装了下环境，VirtualBox搞了蛮久的。
>
> 密码太多了。网站也蛮多的
>
> 三个云
>
> Gitlab（本地）
>
> http://chn-srv-05/users/sign_in
>
> 账户：
>
> xinliu
>
> 密码：
>
> lxw19980714
>
> 
>
> Azure（微软云）
>
> https://dev.azure.com/THORLABS-SHA/
>
> 账户：
>
> xinliu@thorlabs.com
>
> 密码：
>
> Weili67072701
>
> AliYun（阿里云）
>
> https://codeup.aliyun.com/
>
> 学习基本制度
>
>
> OnBoardingGuide——制度流程学习，git合并规则





> 08.08
>
> 周五，离职证明交了但是失业证又没带md。
>
> 安装常用软件及工具
>
> 周五连通CSL1设备了。显示图像



> 08.09——08.10
>
> 找了半天找不到失业证，md被我爸扔到楼下了。。还好被老头捡起来了。没他这下工作真没了。
>
> 周六和小林去看了场电影，浪浪山XXX（西游记相关），是真不错啊。
>
> 可以给8分！

> 08.11
>
> 总算入了职了。。。悬着的心总算放下了。感谢Jocelyn了！善意的谎言hh。拿到合同了。
>
> 看代码，改名字，把C++的dll导入到output里，可以发现设备。
>
> 很神奇，project项目文件夹是哪里来的
>
> 估计是虚拟机里自带的
>
> 晚上和德政走了回去的路，一路上跟他聊转正考核的问题。
>
> md发现还有好多东西没搞懂啊

> 08.12
>
> 看了csl1的代码。主要核心难点其实就几块。
>
> 1、Plugin
>
> 2、多语言，主题切换
>
> 3、继承DataService的设备服务。
>
> 同步：get
>
> 异步：set





> 08.13
>
> 德政昨天生了，恭喜了。
>
> 我才发现。。邮箱里堆积了好多需要过的课程啊。。。
>
> 过课程，写汇报的PPT
> 
>
>
> CSL1和Template 改进。
>
> 



> 08.14
>
> 很快啊，周四了。
>
> 还是看代码
>
> 下午开组会，本来想周五汇报的（看代码的解读）
>
> 但Eason说还是下周吧，两周事件充裕一些，感觉考的问题也会难一点。
>
> 还是要对当前代码提出改进点（这个是蛮难的）
>
> 还是好好准备吧，今天胡阳随便问了我一个问题都没答上来。。很尴尬
>
> 问我csl1设备为什么在Disconnect的时候要Task.Run（新起一个线程跑）
>
> 还有一周时间，好好消化吧。
>
> 问了一个问题：
>
> 人工操作 和 设备上操作 Polling Pulling（1S）？冲突 这时候是怎么解决的，如何保证数据一致性
>
> 看一下RibbonContentHandler



> 08.15
>
> 昨天和甜打了场球，买了双鞋给她（胜利的），感觉好强啊，希望她能取得好名次吧。
>
> 晚上吃了个火锅（马厂），感觉味道还可以
>
> 拿了个甜的拼图和两个盲盒（猫和老鼠），破费了。



> 08.16
>
> 和晴去了五角场
>
> 抓了个娃娃，十个币搞定，还行hh，长得和她蛮像的
>
> 吃了个韩国菜，豆皮包饭啥的，老板娘韩国人还蛮热情的。



> 08.18
>
> 代码一行行看，发现还是有很多不会的。。
>
> 比如settings配置。封装的CustomSettingsProvider类。
>
>
> haimin发了一个关于Jenkins的使用的。
>
> 所有通过Jenkins编译的项目，都需要配置固定的参数，所以软件的checklist新增了两条工程的编译平台配置，请大家检查每个项目相应的配置是不是符合我们的标准。
>
> \\chn-srv-06\SHARED\02. InternalReference\Template\ChecklistForStandloneDeviceVer0.5.xlsx
>
> C++配置和uart版本



> 08.19
>
> 又迷茫的看了一天。。
>
> 临走时胡阳问了我几个问题，我又尬住了。。。
>
> CSL1重连机制实现一下？
>
> Polling的潜在问题？
>
> csl1 汉化有问题 两个同时绑一个属性，比如Button的Content，Tooltip也绑，会怎么样
>
> 现在csl1的polling是循环两个遍历，用锁没啥问题，一旦要检查的变量多了起来怎么办呢？



> 08.20
>
> 已经周三了。。。
>
> 看了几个问题，但是polling和UI的同步问题还是没解决。
>
> 而且试了csl1的也没问题啊。。
>
> 有点焦虑 应该没问题？



> 08.21
>
> 重连的两种观念
>
> 一种是 全卸载重连（我目前是第一种）
>
> 一种是灰掉当前界面执行重连（disabled）
>
> 和张伟又聊了一下。。md又不会了hh



> ==08.22==
>
> 值得庆祝的日子，md早上7点多就到了，很紧张
>
> 虽然看多了也没啥用
>
> 终于过了！！！哈哈哈，开心！
>
> 两点——三点二十
>
> md总算得到认可了
>
> eason这边总算先过了。宇翔和张伟问了点问题。
>
> 还好 问题都不是很难
>
> 最难的还是那个本地化的问题
>
> 如果一个language里没有另一个的key会怎么样
>
> 还好还好
>
> 之后胡阳给我讲了一下几个没答上来的问题
>
> 这周就先这样吧
>
> hy也给我布置了新的任务
>
> 主要是 看新的设备。
>
> CM501 和 7201
>
> 7201修复了闪退的问题，要看hy是怎么解决的，若现在有问题，试着修复它。
>
> Profile需要保存画图的配置文件，试着保存下次打开时恢复。
>
> 主要是这两个需要实现
>
> 设备usb插上会自动安装驱动？





> 08.23
>
> 早上想拍牌照，结果身份证忘公司了。下个月开始吧。
>
> 周六，高中同学聚会，其实就6个人（张冯喜没来）
>
> 下午打麻将，是真霉啊。。
>
> 晚上是残疾人过来了，果然还是打德州。



> 08.24
>
> 跟小林中午去了亚宠展，最后一天，基本没啥东西了，两点钟基本都收摊了。
>
> 晚上第一次吃了自助（五颗星），老早在普建的时候中午就吃这个，鳗鱼是特色，但品质也就那样。
>
> 这几天都没睡好觉md





> 08.25
>
> ![image-20250825132454990](C:\Users\xinliu\AppData\Roaming\Typora\typora-user-images\image-20250825132454990.png)
>
> 总算睡了个8小时的觉，还行，恢复了点体力。
>
> 上个月考的N2，结果出来了。我本以为阅读做的蛮好的。。结果就这么点分。还好低空飘过了。
>
> 晴 tmdN1，差两个满分，真牛啊。。
>
> 工作的话，周一我想先把光学部分知识搞懂，再开始看代码。
>
> 还是有很多不懂的点。
>
> 我现在看的部分应该蛮重要的。
>
> 新旧的区别：
>
> 旧版本是：ThorCam（逐步弃用）
>
> 新版本是：ThorImageCam（正在开发中...）
>
> 学习了一些画面上的基本概念，包括：
>
> ROI、曝光、强度、线性和对数、增益





> 08.26
>
> 生成编译的问题。
>
> 看一下为什么cm501 和 lc7201 csproj的问题？ 编译出来都会不一样。BirefringenceImagingSystem 都会变成这个，想要的其实是CM501
>
>
> 现在cm501的保存profile应该没问题了
>
> 需要看lc7201有没有这个问题。
>
> 要下软件
>
> FT_Prog —— 改名字
>
> 下载安装
>
> nnd晚上去和甜打球，结果说是明天。我服了。。



> 08.27
>
> 修了两个问题，一个是CM501的锁，会引发异常
>
> 一个是生成时exe名字不对，debug 和 release 对应CM501
>
> lcc7201B 和 LCC7201Debug 都对应LCC7201B
>
>
> hy说如果想做的更好些：
>
> 那就在develop分支的时候，就切到对应 CM501的Debug和Release（只显示两个）
>
> 同理在LCC7201分支上时候，就切到LCC7201的Debug和Release（只显示两个）
>
> 编译之前删Output，X86和Any Cpu也都删掉。
>
> 根据两个分支自动切换配置：
>
>
> 和甜晚上打完球吃了个烧烤（东方一串）
>
> md回到家这死狗来回串门。
>
> 



> 08.28
>
> 解决了三个问题：
>
> 1、Output会删除.exe .exe.config以及.pdb 后缀的文件
>
> 2、只保留了x64的编译选项，取消了x86和any Cpu的显示
>
> 3、根据分支自动切换配置：
>
> - develop 分支：只显示 CM501 的 Debug 和 Release 配置
>
> - DevelopLcc7201 分支：只显示 LCC7201 的 Debug 和 Release 配置（对应现在的 LCCDebug 和 LCC7201B）
> - 其他分支：显示所有配置
>
> 下班的时候hy跟我讲了一下几个跟相机有关的东西：
>
> 1、比如ROI，其实本质都是矩形
>
> 切割——矩形、圆形、多边形
>
> 实际上画的都是矩形，然后通过点来排除计算的。本质都是一个矩形的mask
>
> 2、上下左右翻转，其实就是改像素点。



> 08.29
>
> md倒霉透了
>
> 早上遛狗，遇到个死老太婆，鹿鹿一叫电瓶车就倒了。耽误我一个多钟头
>
> 还把绳子拉坏了nnd，就拴住一分钟，这死狗。
>
> 医院去检查，骶骨隐裂？恶心人
>
> ### 多边形/圆形 ROI 怎么实现？
>
> 通常是在 **后台代码（软件层）** 里做的，比如：
>
> 1. **先采集矩形 ROI**（保证数据尽量少）
>    - 如果你要圆形，通常还是取一个能包含圆的矩形。
> 2. **再做掩膜（mask）处理**
>    - 在代码里生成一个圆形/多边形的 mask（掩膜图，像素值=0或1）。
>    - 用掩膜去过滤图像，非 ROI 区域设为黑色或直接忽略。
>
> NotificationCallBack_invokedOnWorkerThread 核心方法，是C++推送过来的？
>
>
> 一个神奇的发现：
>
> 相机sdk找不到相机（当在含有中文字符的路径文件夹下时）
>
> 发工资了，不是很多。。。到手12000不到。哎，工资明细很齐全。
>
> 晚上和晴吃了个晚饭（七夕），竟然还送了我个刮胡刀，还是蛮感动的，挺注意细节的。





> 08.30
>
> 早上去源深那里和瑞哥相亲去了，说实在的，相亲不如你地铁随便搭讪一个。
>
> 年纪可能是她最小的问题
>
> 下午陪妹妹 打球+复习 运动水平也降低了不少
>
> 基础确实不是很好。还是得多刷题，下周再去给她看一下



> 08.31
>
> 8月，一转眼就过去了。
>
> 晚上和晴 吃了烤肉（老乾杯）
>
> 有一个肉包饭吃确实无敌
>
> 鸭肝釜饭也还行。
>
> 加了两个菜（一个釜饭 一个和牛海胆卷）
>
> 一共吃了800，其实还行。



## 9月笔记

> 09.01
>
> 1、把那个问题改好了，重新生成前删除.exe、pdb的文件
>
> 这样可以当分支切换时，不会保留两个Exe文件在同一个Output下
>
> 2、现在LCC7201B还是有问题，会在quickStartCamera的时候报错，访问地址空间异常？
>
> 3、看了一下整体的逻辑
>
> 其实代码都是围绕着canvas来写的。都是一个整体。
>
> ```xaml
>  <drawingtool:DrawingCanvas x:Name="drawingCanvas"
>                             Background="Transparent"
>                             Coordinate="{Binding Coordinate}"
>                             CurrentTool="{Binding CurrentTool}"
>                             GraphicFactory="{StaticResource Factory}"
>                             Items="{Binding ROIs}"
>                             MouseDown="DrawingCanvas_OnMouseDown"
>                             MouseLeave="DrawingCanvas_MouseLeave"
>                             MouseMove="DrawingCanvas_MouseMove"
>                             PreviewMouseDown="DrawingCanvas_PreviewMouseDown"
>                             SizeChanged="DrawingCanvas_SizeChanged">
> ```
>
> 



> 09.02
>
> 其实一天都在研究那个为什么摄像头不显示的问题。
>
> 问了德政，德政关于VS调试还是很厉害的。
>
> 最后还是问了胡阳，结果是 一个SetBlackLevel也要置为0。
>
> 相机全黑的原因其实就几个：
>
> ①、曝光
>
> ②handle=0（report_error)了
>
> 我的摄像头不显示的现象是：
>
> image回调函数执行了几次，之后就不执行了，其实就是report_error那里出错了。
>
> 晚上和甜打了个球，没吃饭。感觉自己好菜。。。





> 09.03
>
> 圆裁剪有问题
>
> 1、没有保持圆的裁剪
>
> 2、旋转/翻转的状态都没有保存
>
>
> 更新后的问题：
>
> 1、当改变 曝光时间、驱动电流 保存配置 再导入 第一次比例不对？
>
> 2、再按复位键也有问题
>
> 3、发现个新问题，调整曝光时间会卡死？
>
> 过曝就会卡死？
>
> 找到了。是调整==增益==就会卡死
>
> 还有问题：
>
> 先圆裁剪——后矩形裁剪 报错？（有时候会报错）
>
> 装了一礼拜同花顺。。。总算成功了。
>
> 要先改windows region 区域的配置 改成中国，不要选那个beta的utf-8



> 09.04
>
> 周四了。
>
> 主要还是做 profile 的测试
>
> 偶尔会出现 异常崩溃的问题（好像是点了 缩放至原始尺寸？）
>
> 反正点增益 会卡死。这个问题没解决。
>
>
> 胡阳让我做合并分支的操作。
>
> 还做了一步，把#if 一些过时的 不需要的都删除了。
>
> 看XA相关的代码
>
> **
>
> 注意：
>
> 1、DevelopLcc7201-csproj-config 合到 DevelopLcc7201分支上







> 09.05
>
> 分支合并：
>
> xinwei 和 fix/develop-csproj-config  合到 develop上
>
> fix/DevelopLcc7201-csproj-config 和 fix/Lcc7201_profile-setting 合到 DevelopLcc7201上 
>
> 合并还没好，需要把NoDevice的都加上，以应对没有相机的问题。



> 09.06
>
> 周六
>
> 和妹妹看了下功课，打了个球，比上次厉害一些，还送了我串手串，蛮感动的。基础还是不太行，直接做高考题试试看吧。



> 09.07
>
> 和晴又去了长宁那边，本来想去汉堡节的，看人太多了，换了一个，结果比较萧条。
>
> 吃了个荞麦面，就是光面蘸酱油芥末汁。。一份卖50，真的离谱，只能说能吃吧。



> 09.08
>
> 听Eason说公司的数据采集卡 1ps采集一个单位..这也太快了。
>
> 260的卡 和 330的卡
>
> 合并了分支，让设备在NoDevice下也能顺利编译运行，禁用了会报错的一些按键。
>
> 为什么LCC7201里面 没有相机还会有数据呢。。查了一下结果是模拟数据。
>
> InitCameraOfflineForDebug





> 09.09
>
> LCC25D
>
> 改一下ICON，两个地方，一个是图标，一个是 关于里面
>
> 版本号改成1.0.0 叫刘海敏里Jenkins里也改一下。
>
> ==改了软件版本号==一定要跟海敏说，因为需要 改jenkins版本号
>
> 本来想学习cmake的，结果耳机插上去没反应。。。很奇怪。
>
>
> 一个问题是 ProcessLibrary的版本号从1.1.0->改回到1.0.8
>
> 应该是我vxproj配置的问题，要改这个和packages一起改才行，其实本质就是改项目的properties
>
>
> 晚饭吃了个饭，父亲生日，吃的烤鱼，一路上饭店都没啥生意，经济是真不行啊。



> 09.10
>
> LK500，换Device的icon和png
>
> 阿里云的合并 squash merge 和 删除源分支 是在评审阶段做的。
>
> 忘改版本号了。
>
> 7201和cm501很多冗余的配置还没删掉



> 09.11
>
> 终于改好了配置，这次不再盲目改了，而是到configure manager里删，有章法一点，不然眼睛花。
>
> 我发现我也是个野心勃勃但能力平庸的人。
>
> 合并了些分支，但是最关键的那个修改profile的问题还没有解决。
>
> 原来vs有个按键可以自动美化的。
>
> 应该说是解决了 hy要问我为什么这样做
>
> 那个中文路径下找不到相机的问题。LoadLibraryW对应要wchar *





> 09.12
>
> 又在调试那个profile相关代码，发现个问题啊。。
>
> Release版本我用了OptimizeCode，然后画圆的时候就会报错，Debug下没有这个问题。
>
>
> 一个问题：
>
> 当圆形ROI测量的时候，出现圆形没问题，但是一旦是旋转/翻转过后的图形，图像就不再是圆了。。。测试了一下CM501也有这个问题。
>
> 应该就没有问题？
>
>
> LCC7201的问题是SetDefaultROI里面会设置默认值，导致读不到。
>
> 我把它改成了SetCameraROI就可以了。









> 09.15、
>
> 德政说LK500跑在x86上
>
> LK500 功能问题：
>
> 1、outRange Disable 和 Enable
>
> 2、记温度，但记录没有时间戳
>
> 3、sequence？ 变成纯硬件，所有状态从设备里读
>
>
> LK500：
>
> 1、Sequence 和 Trigger In是互斥的操作。
>
> Trigger In了就默认交给外部信号控制。
>
> 此时如果想启用Sequence，就要把Trigger In关掉。
>
> 2、Analog In 开启后禁止设置Target，没法跑Sequence
>
> 看LK500代码，看UI和一些互斥操作的代码，如上。





> 09.16
>
> 上午huyang和那边嵌入式的人聊了一下需要开发的功能点。
>
> 具体如下：
>
> 1、Log的时间不准确，hy说C#可以开启一个精确计时的东西（还没研究过），然后把DataView窗口的横坐标改成时间（现在是个），就根据开始时间和Elapsed Time可以拼凑出来。
>
> 2、还要改一个Circle好像，由软件实现改为硬件实现，等Jetty给出UI界面图后再做吧。
>
> 3、是连接设备的时候加一个 密码配置的可选项。这个UI做了，但viewModel的逻辑还没写。
>
> 4、错误日志打在现在Status的地方。



> 09.17
>
> 德政说LK500可以参考LCC25D
>
> 也是需要换库，把代码改成嵌入dll的形式，然后需要nuget一个新包。
>
> Encrypt密码：THORlabs
>
> 果然脸上了，hhh还蛮有成就感的
>
> 软件连上就不能用硬件控制了。
>
>
> md 要看命令。（串口发射）
>
> 用了张伟负责的 EaComTool工具（串口通信工具）
>
> 看通信相关的C++代码
>
> 问德政的问题：如何更新固件信息？
>
> 记录测试几个核心命令。



> 09.18
>
> 请教了一下德政，如何更新固件。
>
> 说是下载一个软件然后把 dfu 文件 烧录进去
>
> 设计了一下新的Cycle模式代替原来的sequence
>
> located Z:\R&D_New\Workspace\LK500\FW





> 09.19
>
> 对比了一下 实现方式的区别
>
> 其实就是USB用了一个ethernet library封装。
>
> hy让我先测一下命令有没有问题，就是dfu文件导进去测
>
> RunTime_Library的问题？
>
> 德政帮我弄了一下，用update记得要插拔一下。
>
> Read的时候返回-10060
>
> 旧的跳转，跳转到 bool CommandCommunicator::TryGetData() 正确
>
> 错误的会跳转到bool EncryptSocketCommandCommunicator::TryGetData()
>
> flag = TryGetData(); 是false 不行的原因！！！
>
> 不行，试了 两个都是错的。
>
> 核心好像是m_msgBuffer赋值错了的问题。Read方法？
>
> 返回-10060
>
> 核心思想：send后把返回的数据存到m_msgBuffer里？
>
> 具体流程：
>
> 1. 发送命令：Send(c, command->CommandLength()) 发送命令到硬件
>
> 1. 等待响应：TryGetData() 等待硬件响应
>
> 1. 接收数据：Read() 将硬件返回的数据存储到 m_msgBuffer
>
> 1. 解析数据：command->Parse(m_msgBuffer.get()) 解析返回的数据





> 09.20
>
> 还是去妹妹那补课了，晚上带她去宝山和高中同学打了个球，还是需要练习啊。



> 09.21
>
> 和小林去徐汇滨江疯狂动物城展了。
>
> 好玩的是 回去走到天桥的时候（火锅店走到四川北路的一个天桥上时）竟然台阶上有两个judy。。我没想到的。



> 09.22
>
> 很奇怪的问题 有时候连接是可以的 有时候不行 是硬件拒绝？
>
> 还是说没有关闭？
>
> GetIDN返回错误？



> 09.23
>
> 上班还是在解决LK500异常的问题
>
> -10060的问题，设置TimeOut
>
> 周二和甜打了个球，吃了个饭，吃的又是韩式烤肉啥的。味道很熟悉
>
> 穿了两根线，130还行吧。
>
> 甜子还有活动，就是可以便宜上海游玩的卡，还行。 



> 09.24
>
> 把C++的新的sequence的接口加上了。
>
> 头疼。上班路上风沙吹到了眼睛，难受死了md。





> 09.25
>
> 眼睛还是疼。。。
>
> 准备了很久，终于要讲post了，有点小紧张啊。。。
>
> 德政跟我说：Post的打分系统，最低0分，最高9分，必有一个最低最高。
>
> 甜子有两张阿云嘎的风声的票，但我实在是没空，问了同事也都没空去。
>
> 今天总算是把Post讲了，其实还行，20分钟，各个点都讲到了。
>
> 今天学了两个东西：
>
> 两个语法？
>
> 1、Eason说的
>
> ```C++
> do {
>     // 代码块
> } while(0);
> //do-while(0) 的主要优势之一就是让宏的使用像函数一样自然，强制要求分号，避免因忘记分号或多写分号导致的语法错误。
> 
> // 定义宏
> #define INIT_DEVICE() { open_port(); send_handshake(); }
> 
> // 使用情况1：正常使用
> INIT_DEVICE();  // 展开后: { open_port(); send_handshake(); };
> 
> // 使用情况2：在if语句中使用
> if (ready)
>     INIT_DEVICE();  // 展开后: if (ready) { open_port(); send_handshake(); };
> else
>     shutdown();     // ❌ 编译错误！因为多了一个分号
> ```
>
> ==正确：==
>
> ```C++
> // 定义宏
> #define INIT_DEVICE() do { open_port(); send_handshake(); } while(0)
> 
> // 使用情况1：正常使用
> INIT_DEVICE();  // ✅ 必须加分号，很自然！
> 
> // 使用情况2：在if语句中使用  
> if (ready)
>     INIT_DEVICE();  // ✅ 展开后: if (ready) do { ... } while(0);
> else
>     shutdown();     // ✅ 完全正确！
> ```
>
> 
>
> 2、胡阳说的
>
> ```C#
> String.Intern(字符串);
> //适用于重复字符串反复使用的情况，节省空间分配
> ```
>
>
> 毛泽东说的：
>
> 1、什么是政治？
> 政治就是把自己的人搞得多多的，把敌人搞得少少的。
>
> 2、什么是军事？
> 打得赢就打，打不赢就走。



> 09.26
>
> 一眨眼周五了，今天早上一直在改那个ui的问题，改了两版，一个是 input ip address居中。但最后想了一下又改回去了，因为本身就是要输入IP获取是否Encrypt的状态，所以根本不需要那么麻烦。
>
> 
>
> 下午测了下C++的Get相关接口，为了测试方便，新建了GetCommand命令，然后把原本的PollingService方法注释掉了。
> 记得后面要改回来！！！
>
> 现在已经能调用命令，List好在UI上了，后面应该就要pollingService遍历了。





> 09.28
>
> 提转正了。
>
> 员工总结：
>
> 和胡阳到会议室交流了一下，优点、缺点都有。
>
> 优点就是：工作还是蛮认真的
>
> 缺点也很明显：会卡很久。需要多交流，确实。
>
> nnd改那个 encrypt-checkbox给我改晕了，改到9点。。。



> 09.29
>
> 早上8点到了，eason和德政都到了。。。离谱
>
> hy说还是改成datagrid的样子。也难改啊。。
>
> 改了一下午，还差一点吧
>
> 加encrypt差的功能有：
>
> 1、解析端口号和ip，提供加密服务，删去默认配置页面
>
> 2、checkbox打勾，但是密码没输入，还是能OK - Command
>
> 3、输入新设备的逻辑只有ui，没有后台逻辑
>
>
> 加cycle差的功能有：
>
> 1、获取了list，我该如何修改，删除步骤
>
> 2、在每一个step里，暂停和继续如何实现。停止又如何实现。



> 09.30
>
> 节前最后一天，还是有很多问题。。
>
> 空行点击不了？问题竟然出在一个previewDoubleClickCommand上，把命令和canExecute分离了，就行了。
>
>
> 还有很神奇的问题，开了一天的机器，我想试一下功能的，结果连接不上，还是报encrypt相关的问题，结果重启了一下就行了。。
>
> 国庆选一天来把事情做做干净，2号吧。



## 10月笔记

>10.07
>
>一转眼 10.7号了，来公司记下笔记
>
>3号去了下汤婷的婚礼，我还是太糯了，没有合影，胖一点了蛮可爱的，虽然这酒店着实没什么派头。。和茅老师随了1000。
>
>4号和老渣他们聚了聚，玩了些桌游，吃了湘菜和烧烤，肚肚疼疼的。
>
>6号家里人吃了个饭，菜色其实还行，但要3000，有点小贵了。
>
>8号最后一天了，和妹妹补习了下数学，这立体几何是真难啊。。。真不会md
>
>什么三垂线定理二面角啥的。。。晕了，几个小时也没做几道题。
>
>下午去和她同学和同学父亲（复旦老师），到新江湾打球，场地不错，我太弱了。。竟然连老头都打不过，这拍子也真不行。哎
>
>没有复仇的机会了。8天休息时间一晃眼就过了。



> 10.09
>
> 开工第一天，一早hy叫我和dz开了个会，说一下后面的安排
>
> 我就是把手头的工作先做了，那个encrypt啥的叫dz review一下。
>
> 这个改的是最多的hhh
>
> 和硬件工程师liu zhengcao讨论了一下，CDC文档有些问题，暂停肯定是在运行模式下。
>
> 增加了Cycle模式下 启动、暂停、继续、停止的逻辑。
>
> 同步Cycle UI 和 button的状态
>
> 当remove 或 add 的时候重写每个步骤到硬件里（加锁）





> 10.10
>
> RunButton提供两种模式切换，如果在主界面，则会提问选择哪种方式进行，是则是Cycle模式，转到Cycle的tabControl页面，否则RunMode=constant进行
>
> RunMode切换的时候请先STOP再运行
>
> Cycle的Datagrid提供右键移除和邮件清除全部的选项。
>
> 之前存在更新一个step的Mode（Cooling/Heating），所有Step全更新为一个的问题，zhengcao更新了一下硬件固件就好了。
>
> 现在还遗留的问题，
>
> 1、似乎是Encrypt=false的条件下，似乎连不上硬件（发送不了指令，返回-10060）
>
> 2、log日志似乎时间对不上？



> 10.11
>
> C#命令加入到队列里，参考LCC7201
>
> 同时加入重试机制避免-10060的问题，重试3次，间隔20ms，在DataService抽象类里实现。
>
> 当已经运行的时候初始化自动开启timer
>
> add和remove 500ms的debounce
>
> 当cycle模式下运行停止的时候自动刷新按钮状态（run/stop）
>
>
> 发现一个问题啊。
>
> 设置Target好像一定要在runmode在constant下设置？





> 10.13
>
> 写入完的这个bug到底是必须要get执行一下呢？我Thread.Sleep没啥用啊。很奇怪。
>
> 加了verifyInfo拿了一下数据就好了？
>
> 现在效率其实还行。插入/删除 step越小的时间越长
>
>
> 温度单位转换，需要在我这边转吗？
>
> SCPI指令似乎只支持摄氏度，如果我是开尔文温度需要转一下？
>
> 转一下的方法目前 重复了很多，我想应该放在一个静态通用方法里会好些。TemperatureUnitConvert（目前在多个类里）
>
> 这个转换
>
> 还有设置Target温度的时候好像有问题，我输入的和硬件显示的好像对不上？（这个也要问问zhengcao）
>
> 摄氏度-》华氏度-》开尔文 似乎不太对。





> 10.14
>
> 一早zhengcao就给了一版。修复了温度单位不匹配的问题，现在摄氏度、华氏、开氏，都可以设置了。
>
> 我发现一个问题，似乎设置完报了Error和硬件配置就会不一样，应该强制刷新。
>
> 广播是IP地址广播，而非遍历端口。



> 10.15
>
> 跟沈教练反馈了一下未加密设置下连接通信发送不成功（-10060）的问题
>
> 德政告诉我Thorlabs有专门的测试发送通信的工具
>
> 测试了一下是没问题的。。。
>
> 
>
> 终于知道是为什么了，定义的SCPI发送和解析是有规则的，具体规则如下：
> 发送：
> 开头四个字节：CA 00 发送长度 00+ 命令+"\n" 
>
>
> 解析：
>
> 开头四个字节：CA 00 返回长度 00+返回数据+"\n"
>
> 
>
> 解决方案：
>
> Ethernet_Library库都选EncryptSocketCommunicator就行了。
>
> 还有个bug，就是刷新完需要等一会才能连接啊。



> 10.16
>
> 四点起来跑了个步，我发现并不是很饿。。
>
> 走到虹足的路上雨还蛮大的。碳板跑鞋还是有说法的，md感觉是跑的会快些（不知道是不是我最近锻炼起效果了），蛮轻松的，4:30配速跑了5.5km。回头一看。5.30就结束战斗了，人还有点懵。报了10km的比赛，一定要努力一点。人生目标：10km-40分钟内。
>
> 吃了上班路上的三味拉面馆，点了一份牛肉拌面，牛肉太大块了，味道还行吧，加了个荷包蛋28，不便宜，最近吃过最奢侈的早饭了（ps：早饭一般不吃面），饱饱的。
>
>
> 今天早上修复了几个encrypt的bug，包括加载savedIpAddress，解析带端口的ip地址，显示encrypt密码等。
>
> 然后cycle部分，原来LK500Cycle部分用的是Timer来实现定时刷新的功能，现在用的是pollingService，也有问题，就是Task.run(()=>Stop());// 必须在另一个线程中来关闭这个定时刷新硬件的服务。这一点要注意。
>
> 早上Eason收到了个新需求，是关于：
>
> pdxc软件的，需要修改来适应PDX1D/DV 和 PDXG1 两个不同的Stage（平台？）
>
> 先解读一下需求完再改吧。



> 本周小结汇总：
>
> 与硬件工程师讨论，了解需求并反馈我发现的一些问题。添加了在循环模式下启动、暂停、恢复和停止的逻辑。
>
> 运行按钮提供两个模式开关。如果它在主界面上，它会询问选择哪种模式。如果为“是”，则将切换到循环模式并转到循环选项卡控制页面；否则，RunMode将设置为常量。
>
> 将C#命令CommandProvider添加到队列中，参考LCC7201。当循环模式操作停止时，运行按钮状态会自动刷新。
>
> 发现温度设置单位不匹配的问题，提供反馈并更新硬件。
>
> 定位并修复未加密的通信问题，因为硬件使用协议封装，需要添加消息头以遵循EncryptSocketCommunicator的逻辑。
>
> 汇报时说的：
> 1、和硬件反馈了三个问题：
> 一是对一个Step的Mode进行修改，所有Step都会修改的问题
>
> 二是不能正常暂停
>
> 三是不同温度单位下设置温度的问题
>
> 更新了固件并更新了代码
>
> 2、定位并修复未加密的通信问题，因为硬件使用协议封装，需要添加消息头并复用EncryptSocketCommunicator的逻辑。
>
> 3、运行按钮提供两个模式开关。二次询问是constant模式还是cycle模式，若是cycle模式，跳转到cycle的tab并显示。



> 10.17
>
> 周五了，合并了一个merge分支给hy测，问题还是蛮多的。
>
> 1、对齐问题
>
> 2、输入限制问题
>
> 3、硬件软件不一致问题（比如cycle的mode是heating但显示的是cooling）
>
> 4、add、remove缓慢的问题。
>
> 5、cycle的step能不能全删的问题
>
> 6、telerik的num 输入限制的问题，和回车触发事件的问题。



> 10.19
>
> 和小林去了淞虹路上的一个蛮大的商场，HIJ！
>
> 汤姆熊里耗了快一下午，整了几个可爱的玩偶，爆率还可以，章鱼给小林了蛮可爱的。
>
> 小林还准备了零食送给我，有点感动的。





> 10.20
>
> 做了LK500的重大变更，主要是把之前add/remove 一个个加，变成了一起加。UI弄完，等开始键按下才写入硬件StepInfo。



> 10.21
>
> zhencao针对getcycleInfo，加了一个stepMode字段，就是显示当前正在执行的工作模式。
>
> sequence 和 cycle 是互斥的，所以互相运行的时候要disabled掉。
>
> 然后现在start的时候加入了转圈加载的UI。
>
> 遗留问题：
> 1、加载数据太慢，进度条显示一下。
>
> 2、cycle-datagrid 加-减 step 缓慢的问题（虚拟化）
>
> 3、3个tab留一个的问题
>
> 4、中途退出没退出干净的问题





> 10.22
>
> 参加了新员工培训
>
> 10.00——14.45



> 10.23
>
> 发现一个问题啊。设置了sequence之后跑，然后停止，返回到主界面，那个target温度没有刷新啊。
>
> 改好了。
>
> 晚上吃了德政的聚会，下午的post科普了啤酒，拉格和艾尔，学到了很多hh，吃饭的时候简直是品酒大会。很恐怖hh。有个白熊接骨木的蛮好喝的。晚上做沈教练的顺风车回去的。



> 10.24
>
> 程序员节，给同事们点了奶茶，组内的点了茶百道，HR们点了KOI（还多点了几杯）
>
> Logging换了一下，精准计时。拿到了PDXC的SRS，需要改几个变量的配置。



> 10.26
>
> 周日和小林去了正大广场。
>
> 吃了黎巴嫩餐厅，还行吧，碳水炸弹。
>
> 时间点的范围不太对。时机不对。





> 10.27
>
> 把Cycle异步的方法都改成了同步
>
> 发现不再报错了，不错。
>
> 那个不准的问题，是因为while(true) 计算时间有问题，sleep了100，空转就行。时间会精确很多。





> 10.28
>
> 发了个Release版本，我发现我还是不太会配置C++，编译错了很多。靠cursor帮我改的，但我实际还是不太会。
>
> 增加RadNumericUpDow 居中对齐，combobox自适应宽度
> 
>
> hy提出了几个改进的。
>
> 1、sequence也加上删除和清空键
>
> 2、和jetty对一下UI是否能这么改（cycle循环次数样式不一致）
>
> 3、combobox和父组件宽度对齐，宽度自适应
>
> 4、加上cycle相关的simulator（时间长）



> 10.29
>
> hy看了一天我的LK500代码，紧张死了。。。
>
> 还好，提出的问题都是针对我不必要的修改的部分
>
> 去掉DataService，把一些代码还原回去就行了。
>
> 关键问题还在于我调用Cycle相关指令时候会收不到返回值。这个才是难点



> 10.30
>
> 早上那阿拉斯加又不牵绳子，md踢了她主人一脚。
>
> EaComtool更新了，新版本支持了Loop和多指令记录的格式，感觉很不错。
>
> 我正好有依据测试了，测了一个30Steps 和 50Steps 的 Cycle循环，把日志发给了硬件的小伙子，希望他能查出问题来吧。
>
> 把hy昨天提的东西都修了。现在虽然还是会报bug，但理论上应该硬件修完就正常了。
>
> 异常似乎会发生在
> ①、RunMode切换的时候
>
> ②、写入一堆Steps后覆盖的情况。
>
> 和hy谈好是明天给一个版本，现在还剩下Simulator就完事了。
>
> 
>
> 周报：
>
> 1、PDXC修了UI显示和单位的问题，跟硬件人说了需要测试，配套的台子准备好了会给我
>
> 2、用新的EaComTool工具进行写入多条Steps，测试问题，向硬件反馈，可能还是得C#这边做处理，固件设置太快反应不过来
>
> 3、LK500的Cycle 需要添加Simulator功能





> 10.31
>
> 10月最后一天了，本来订着今天交一个Release版本的，结果不太行。
>
> hy说把thread.sleep的都改掉，还是cycle设置硬件的时候有问题。
>
> 步骤设置多了似乎一定要sleep一会啊。。。
>
> 哎 还是找硬件的沟通吧。。。







## 11月笔记

> 11.1
>
> 和小林去了海昌公园。走走看看吧，海洋动物其实并不多，万圣节专场，也没啥东西，做游戏换银票啥的。
>
> 晚上本来想吃临港东盛的，结果7.40分去还要排两个多小时。nnd，没吃到，随便吃了个川菜，吃了个DQ就回去了。
>
> 23点到的家，很累。



> 11.3
>
> 只Set和只Get进行测试（50ms）
>
> 经测试，50ms似乎是一个不会发生错误的硬件指令发送间隔时间。
>
>
> 还是会发生错误的。
>
> 跟zhencao反馈了，他也跟他的上级反馈了。可惜还是没啥好的解决方案。
>
> 只能我这边软件进行处理了，受限于硬件和平台的限制，1000ms太慢了，我基本能控制在50ms一条吧，因为它不是每一条都慢的，还加上了异常处理（刷新硬件+messagebox显示）
>
> 最近的cursor更新后似乎又变聪明些了。





> 11.4
>
> 早上hy拉了个会，和硬件的小伙伴一起讨论一下这个设置steps的问题。
>
> 加了一个功能，==写入steps的时候可以取消==。
>
> 两个问题：
>
> 1、steps设置太慢（1S一个）
>
> 2、steps设置过程中如果get会发生报错
>
> zhengcao本来说有一个指令（skipping啥的？）可以在set的时候循环调用查看是否执行成功。
>
> 但后面他给我发了一版固件。奇迹般的都解决了。。。原来还是得逼一逼效果好啊。
>
> 还有一点点小问题，就是我设置steps期间，如果把网线拔了，会是什么效果。
>
> 正常效果：返回到mainwindow界面，主界面显示空
>
> 但现在的效果：报错误窗口，异常crash





> 11.5
>
> 查了半天也没发现问题在哪。。。
>
> 把statustimer的遍历停了就不报错了。
>
> hy说为什么要timer，直接在polling里执行不就行了。
>
> 我想了想确实。。改了些代码，然后现在cycleInfo的更新放在polling里了，写的时候拔掉网线也不会crash了。
>
>
> 下午四点总算发了个邮件给测试了，这个LK500改了快整整两个月了，希望没问题吧。。我也不知道，但我总感觉Encrypt这会有点问题。拜托haimin了。
>
> 正好加了测试两个女同事的wx。高剑萍 和 刘海敏
>
>
> 下班时候德政和hy因为一个C# 和C++的问题争论了一下，我也不太懂。。。
>
> 大致的意思就是：
>
> 1、C# 在anycpu编译后的程序 能在 32位和64位上运行吗，运行了输出intptr的长度是多少？
>
> 2、C# 如果anycpu编译后能同时调用C++编译的32位或64位的程序吗，会报错吗？
>
> anycpu是C#独有的概念？
>
> ## C# AnyCPU 的运行时机确定
>
> ### 启动时刻的"决策过程"：
>
> ```
> AnyCPU程序启动
>     ↓
> 操作系统检查程序头
>     ↓
> 根据系统位数和程序设置决定运行架构
>     ↓
> 加载对应版本的CLR(.NET运行时)
>     ↓
> JIT编译为特定平台原生代码
>     ↓
> 程序开始执行
> ```
>
> 若你的启动项目，即主程序（编译出来的exe文件的）是×86平台下编译的，而它所依赖的一个项目（或动态链接库）是由×64位平台编译出来的，则会提示“未能加载文件或程序集……或它的某一个依赖性。视图加载格式不正确的程序。”之类的错误。这是因为32位程序不能加载64位的dll，更不能调用其他的类、方法和对象等。反之，若主程序是由×64平台编译出来的，而dll是×86的呢……当然也是不行的。所以，dll和主程序的生成平台要一致。
> 若主程序是在Any CPU平台型编译的，那么编译dll的平台必须要和编译主程序的操作系统一致才行。若主程序是在×86或者×64平台下编译的，那么dll就必须要和主程序一致。
>
> 总的来说，
> 1.主程序是Any CPU、×86、×64平台编译的，依赖项目是Any CPU平台编译的。
> 2.主程序的编译平台和依赖项目的编译平台是一样的。
>
> 虽说Any CPU编译出来的程序取决于操作系统，但是由Any CPU编译出来dll则取决于调用它的主程序，即若主程序是32位的，那么dll也是32位的，若主程序是64位的，那么dll就是64位的。所以dll一般采用Any CPU平台编译，而主程序一般采用x86平台编译。
>
> Debug和Release的区别？
> Debug通常称为调试版本，它包含调试信息，并且不作任何优化，便于程序员调试程序。Release称为发布版本，它往往是进行了各种优化，使得程序在代码大小和运行速度上都是最优的，以便用户很好的使用。所以一般都是用Release来打包发不程序，另外，Release打包出来的程序也相对来说会小一些。
>
>
> hy还提到了XA是用CLI写的，查了一下：技术对比总结
>
> | 特性          | P/Invoke P/调用 | C++/CLI              |
> | :------------ | :-------------- | :------------------- |
> | **编程模型**  | 函数级调用      | 对象级封装           |
> | **性能**      | 较好            | 优秀（直接内存访问） |
> | **复杂性**    | 简单            | 中等                 |
> | **维护性**    | 较好            | 优秀                 |
> | **部署 部门** | 需要原生DLL     | 需要混合程序集       |
>
> ## 建议选择
>
> - **简单函数调用** → P/Invoke
> - **复杂对象封装** → C++/CLI
> - **高性能要求** → C++/CLI
> - **快速原型** → P/Invoke
>
> 
>
>
> XA项目拉完之后编译不了，似乎是因为git submodule？学习一下这块。
>
> 完善和小林吃了个饺子，感觉还行吧。海胆饺子，又罪恶地吃了两杯dq。





> 11.6
>
> 学习了一下git submodule
>
> 主要是两种方式：
>
> 1、直接拉的时候带上submodule的拉取
>
> ```
> git clone --recursive https://github.com/example/main-repo.git
> ```
>
> 2、先普通git clone
>
> git clone  https://github.com/example/main-repo.git
>
> 再更新
>
> git submodule update --init --recursive
>
>
> hy帮我了一下，cmake先编译出一个vs studio 然后得到一个sln，打开就能运行了。
>
> vscode里弄的cmake，我不太会cmake，得花时间研究一下。
>
>
> 周报：
>
> 1. hy拉了个会与硬件同事针对LK500相关出错进行了讨论，硬件小伙子改了一版，之前反馈的问题就全解决了。写入steps速度很快。但还有死机的问题，视频发给硬件了。
> 2. 在写入Cycle步骤中增加了中途取消功能。
> 3. 优化了写入步骤的异常处理机制，现在在写入过程中拔掉网线不会导致系统异常退出，而是能窗口显示错误，且安全返回主界面。
> 4. 增加了release x64版本的配置工作，代码已合并并提交给haimin进行测试。
>
> 
>
> 晚上和ft打了个球，四个人，没啥意思。。。腿好酸啊。



> 11.7
>
> 海敏提了一些修复意见
>
> 具体如下：
>
> 1、sequencegrid 在运行/暂停的时候不允许改变grid数据（IsReadOnly=true）
>
> 2、当cycle不在isactive的状态时蓝点取消显示。
>
> 3、TargetTemp在Cycle Active状态时优先取CycleInfo里的SetupTemp，在Log和实时记录的Series里需要增加获取目标温度的特殊逻辑。（但目前存在SetupTemp一直变化的问题，已反馈硬件）
>
> 4、增加log记录的内容，比如连接/断开，跑sequence, 跑cycle等等
>
> 5、dataview的图放大缩小控制。
>
> 6、增加cycles的配置加载和保存功能（保证兼容性）



> 11.8-11.9
>
> 去苏州看好婆阿爹了。好婆没咋变，阿爹老了很多（瘦骨嶙峋）
>
> 住酒店一天就回来了。
>
> 周日和小林去大宁那吃了个萨莉亚，还行吧，别的啥也没干就回去了。。。（4点-7.20）
>
> 下周好好准备10km吧，太胖了。



> 11.10
>
> 早上跑了8km，39分钟，太慢了。。。还是体重太大。。得减一下。不能乱吃零食和糖水了。减到135应该有机会破40min。。但时间只有6天了。。
>
>
> 双11乱买了点东西。。。1000左右吧



> 11.11
>
> LK500-应该告一段落了，代码合了hy看了改了下。下午给haimin再测试一下。
>
> PDXC今天也要弄好，总算知道怎么更新固件了，按住back键再打开电源。
>
>
> 海敏
>
> 1、改了坐标轴的显示
>
> 2、enable改成readonly
>
> 3、dataview的中英



> 11.12
>
> 今天新同事来了，好高啊，估计有190
>
> LK500新代码合并了
>
> 昨天用自己的简单A股量化分析出的股票涨停了。。首开股份，可惜没买
>
> 说明还是可以的，每天做做，看看胜率
>
> 打算做个程序分析一下了。仓库刚建好。
>
> 不看XA代码了。。太难了
>
> 我觉得Custom_Tool看懂这个drawingTool工具也不错，这个蛮有用的。
>
> 晚上跟hy说了一下要早走的事情，3点可能太早了。还是请半天假吧。哎。



> 11.13
>
> Eason给hy他们布置了一下大模型方面的工作，我还是老老实实把这个drwaingtool工具理解透彻吧。
>
> 总结一下上周的工作，周报如下：
> 1、LK500方面，修复了海敏提的一些问题：
>
> dataview的放大缩小做了最大最小的限制
>
> cycle也支持config的加载和保存
>
> targetTemp在cycle模式下拿cycleinfo里的温度值
>
> 2、拿到PDXC的台子了，调试测试了一下，没啥问题，之后给haimin测试一下。
>
> 3、在看Custom_Control画图相关的代码，学习一下。



> 11.14
>
> 实验室录入了指纹
>
> 跟hy请了下午的半天假
>
> 下午陪csd去前滩太古里抽那个扭蛋，一发入魂，他中了个五月天礼盒很不错，我和他女朋友就只抽到了经典时尚小垃圾。
>
> 看演唱会前随便吃点，选了个shakeshack，结果偶遇了 姚一来，我真的佛了。
>
> 晚上的嘉宾是 冠佑的女儿——小玫瑰，9.55结束的，打车打了一个多小时。。和茅老师一起吃了个饭。
>
> 两点到的家，太累了。。





> 11.15
>
> 在家休息了一天。
>
> 晚上又睡不着了。要跑top run 10km。



> 11.16 周日
>
> 贼拉累的一天！！！
>
> 早上4.55起床，昨天23点多才睡着的。
>
> 吃了个鸡排饭团+红牛，还专门买了跑步袜，结果！
>
> md成绩一塌糊涂，52min，跟沈教练差了5min。哎，别人都是比赛跑的比平时好，但我tmd平时发力还不错，人太多，懒得突围了，没啥拼劲md。
>
>
> 下午和小林去ps5店打了会电动。双人成行，双影奇境啥的，还可以吧，偶尔玩玩还挺好玩。
>
> 晚上吃了个东北菜，好像也是个10多年的老店。里面有个菜感觉蛮好吃的，==雪衣豆沙==，很不错的甜品hh。
>
>
> 
> 晚上10点出的门，再送送csd，吃了哥哥的深夜食堂（黑金店），味道和价格都还可以的。到外滩逛了逛，和他合了下影，就溜了。





> 11.17
>
> 中午没去吃饭 趴了一会
>
> 主要修了一下LK500的haimin提的问题，就是拔网线异常crash的问题，修了一下好像是app异常捕获的时候要加e.handled=true.
>
> 主要是在C++close的时候加了200ms延迟。
>
> Polling的时候当断连的时候加上了WaitforStop()
>
> 集齐小游戏8个徽章，抽奖，抽到个labubu还不错。



> 11.18
>
> PDXC发了测试邮件，交给Jetty测试了。好像线的问题和设备的问题比较大。
>
> 把LK500修复好的机器也交给haimin测试了
>
> 希望这两个这周可以完结吧。
>
> hy叫我拉一下lowNoiseLaser的代码，设备是在国外的，也让我看看，可以改一下。
>
> 中午吃饭前新来的董博涵好像要和我一起吃饭，估计是想了解一下新内容吧。
>
> 晚上和德政一起走的，也交流了一下，这个写出drawingtool来的周亿，真的好强啊。。得向人家学习一下。
>
> eason发现messagebox的样式用的还是原生的，应该要改成telerik的比较好。



> 11.19
>
> 上午的时间，把PDXC有关messagebox的都改成了telerik，现在可以实现亮暗样式的切换了，按键本地化语言的问题也得以解决了。
>
> 其余时间就在看DrawingTool





> 11.20
>
> 加一个cycle Demo 演示一下
>
> 处理一下error code 为空的问题。
>
> 总结一下周报：
>
> 1、LK500处理了连接中断异常crash的问题
>
> 2、PDXC提交了测试，反馈了channel线会导致过电流的问题，把PDXC有关原生messagebox的都改成了telerik，现在可以实现亮暗样式的切换了，也解决了本地化语言的问题
>
> 3、这两个项目基本上完结了。拉了lowNoiseLaser的代码在看，还在学习



> 11.21
>
> 周五，海敏请客吃饭的日子。
>
> 味道其实不错的，海敏老公也来了（买单）
>
> 又尝了不少酒，獭祭（jetty）、诗慧的米酒还有德政的果泥啤酒。
>
> 其实都跟小甜水茶百道，喝了多了还是有点晕，晚上开电瓶车回去的。
>
> 第二天喝的整个人确实有点浮肿，爆痘了也。年纪大了不应该勉强的。



> 11.22
>
> 好久没到妹妹那补课了，本想着去一下
>
> 结果看到小林那里的活动周六有，就还是去了，是个意大利风味小摊节，主要是吃的，
>
> 看的表演实际上就是搞个番茄通心粉，尝了一下，味道一般般吧。
>
> 晚上吃的也是西餐，味道还行，也不便宜。



> 11.23
>
> 在家休息了一天，跑了个10km，我感觉佳明这个速度绝对有问题，我不可能4分配这么轻松吧。。。
>
> 很奇怪，晚上吃了阳坊涮肉的套餐，肉的品质确实可以。



> 11.24
>
> 周一，没啥事，学习DrawingTool





> 11.25
>
> 早上，PDXC的黄工反映-10-10v 映射到pos是-5到5
>
> 让增益可以达到1.6？
>
> 后面他看了下应该是他那边的问题，因为所有台子配套的增益都是0-1的。他也改好了。





> 11.26
>
> 更新一下LK500的demo，给海敏更新一下。也算个活了。
>
> zhengcao反馈了一下一个单位的问题是：%RH 而不是 %  RH
>
> 早上跳了下绳，感觉好累啊，得不了名次了应该。
>
> 我下去遛弯上来hy找我谈话了，我还以为是要批评我呢，结果是年终奖，我年中进来的，11000，不错了感觉。蛮开心的。
>
> 晚上去和小林看疯狂动物城2。
>
> md倒霉的一天，妈带爸去医院吊针，结果走掉了，报警一个个看监控，看的太慢了。结果还是妈开电瓶车把他逮住了。
>
> 电影也没看成，真是糟糕的一天！
>
> 不知道晴会怎么想。哎。





> 11.27
>
> 胡阳让我看一下他现在负责的那块，就是AI Qwen调参，人工测试一下。横向对比，控制变量一下就行。
>
>
> 跳绳比赛稀烂：146个也太糟糕了。。。沈教练224个太夸张了。
>
> 周报：
> 1、更新了一下LK500Demo有关Cycle的示例代码，更新了SDK。
> 2、PDXC和硬件沟通了一下，计算目标位置全放在固件里执行
> 3、学习drawingTool，自己做几个demo跑跑看看效果



> 11.28
>
> 参与也有礼品，都是蕉内的，有袜子和包。我选了包。
>
> 不错不错，到公司几个月已经拿了不少东西了。





## 12月笔记

> 12.1
>
> 周一，早上hy告诉我03电脑的位置，开关必须都要进机房，关不能远程关闭（没有权限）
>
> 大部分时间还是做tensorrt的测试，测来测去越来越诡异了。



> 12.2
>
> 做了点测试，海敏反馈了一下sdk有问题，似乎是dll不能独立运行。（因为是动态dll，有ethernet_library的依赖。
>
> 还有demo有关cycle的部分改成5s自动关掉。
>
> tensorRT的部分做了csv文件



> 12.3
>
> 改成静态lib编译后还是有问题，查了半天，报的错是说编译时版本不对。
>
> 只有release不对。
>
> 但根本原因并不是，跟德政和沈教练反应了一下，我还以为是他那边没有编译，德政查了一下告诉我是advanced 里有个Whole Program Optimization的选项。把他改成No就好了。很奇怪。
>
> 这个C++有关 dll和lib 的东西 我感觉学的还有很多。
>
> 问题：
>
> 1、Command_Lib 如果依赖于动态链接编译出来，sdk不能直接用
>
> 2、这个Whole Program Optimization有啥用
>
> 
> 后面就在做vllm相关的测试，记录测试数据



> 12.4
>
> 还是做vllm相关数据的测试收集分析
>
> hy给了个csdn的链接：
>
> [VLLM 详细学习笔记 第一章：开篇速览与环境就绪_vllm 计算能力要求-CSDN博客](https://blog.csdn.net/qq_38334677/article/details/154045194?spm=1001.2014.3001.5502)
>
> 周报：
>
> 1、学习了一下lownoiselaser的代码，之后有需求的话可以马上进入角色进行修改。
>
> 2、在03机器上，做VLLM和TensorRT相关配置的性能测试，用evalscope记录测试数据并分析，对比各个参数的作用和较优的配置。
>
> 3、LK500修复了下sdk相关的问题。
>
>
> 模型有一个量化模型的概念。
>
> - **原始模型（FP16/BF16）** = **精装彩色印刷版**
>   - 每个字都用高质量油墨
>   - 图片是高清全彩
>   - 书很重（4GB），翻阅需要较大力气（显存）
>   - 阅读体验最好（精度高）
> - **量化模型（INT8/INT4）** = **平装黑白印刷版**
>   - 用普通墨水印刷
>   - 图片是黑白简笔画
>   - 书很轻（1GB），容易携带和翻阅（节省显存）
>   - 核心内容都在，但细节有损失（精度稍低）
>
> hy让我看一下lowNoiseLaser部分有关list设备选型的部分（根据不同型号功能不一样）
>
> 周会上eason让我们几个95后想想年会团建干什么





> 12.5
>
> 周五了，摸摸鱼咯。
>
> 还是在测 VLLM 和TensorRT的 的性能。这个是真的搞。
>
> hy：串口断了是能知道的，网口断了是不知道的。



> 12.6
>
> 带妹妹去新的地方打球，GSport，饶了一大圈md。好多数学题不太会。。。
>
> 跟她说下周跟她讲，我再学一下。



> 12.7
>
> 跟小林去了 环球港，吃sushiro，其实感觉一般般吧。。
>
> 200多吃了，991号，2.45拿的号，晚上7.22算是吃上了。。。
>
> TopToy抽了疯狂动物城的盲盒，重量差距很大hh，抽到的是礼服judy，旁边有小孩喜欢（没抽到），小林又喜欢制服judy，就换了一下，也算做个好事吧。





> 12.8
>
> 早上来，德政去陪小朋友拍100天了。
>
> hy跟我说了一下，我做一点调研，然后跟hy和dz他们讲解一下。
>
> 应该ok的。





> 12.9
>
> S4FC设备蛮奇怪的。
>
> 两个问题，一个是buffer太小了。list_hid设备会全拿到，那边的hid设备太多了。
>
> 筛选逻辑不一致。没有把thorlabs的拿出来。
>
> 问题其实是两个：
>
> 1、hid设备字符串太短了（只给了256，但扫出来很多hid设备）
>
> 2、解析字符串的逻辑有问题，没有把Thorlabs设备摘出来，如果多层嵌套的hid设备也有问题（集线器）
>
> 组织了个AI的会，给德政、hy他们讲一下我学到的内容。



> 12.10
>
> s4fc做的修改如下：
>
> 1、发现默认hid设备给的buffer太小了，256--》4096
>
> 2、把原本写死的dll，用nuget的方式使用
>
> 3、支持多个hid设备过滤s4fc设备





> 12.11
>
> eason给我们组的开了会，介绍了一下现在的进展，跟我想的基本一致。
>
> 后面hy分配给我的任务：
>
> 主要还是测vllm参数
>
> 给德政的任务是：
>
> 写python，提供api。（我还蛮想干的）



> 12.12
>
> 又到周五了，md早上鹿鹿拉屎，我用水冲，渗水，下面的老头又上来了。nnd
>
> 昨天下班前yuanlei那有个小任务，就是改一下pdxc的参数，很简单。
>
> 然后就是改s4fc，这玩意有bug，关闭窗口，exe还要一个后台进程存在。我把这个thread的isbackground=true就好了。
>
> AI那块下周再做吧。



> 12.14
>
> 和小林去了前滩的啥巧克力节，吃了个tas啥的韩料，是真难吃啊。。
>
> 玩了dead cells，确实还不错，是我喜欢的类型。



> 12.15
>
> 又是新的一周
>
> eason提了一嘴，有项目好像要迁移到4.7？好像要让我做，就是这个s4fc项目
>
> csl1，小董发现了一个font切换的问题，似乎是连接、断开再连接就会有问题。
>
> 跑一下SgLang的docker
>
> 步骤1：
>
> pull sglang镜像（用的是华为）
>
> 步骤2：
>
> run镜像，挂载模型，设置sglang的参数
>
> 
>
> 03上不能翻墙拉，搞死我了。。
>
> 终于解决了
>
> 步骤如下：
> 1、sudo apt install -y shadowsocks-libev
>
> 2、
>
> ```bash
> ss-local \
> -s fbnode-all.6pzfwf2511.com \
> -p 56052 \
> -m chacha20-ietf-poly1305 \
> -k S6gzat \
> -l 10808 \
> --fast-open
> ```
>
> 
>
> 3、验证：
>
> ```bash
> curl --socks5-hostname 127.0.0.1:10808 https://ipinfo.io
> {
> "ip": "38.246.114.102",
> "city": "Draper",
> "region": "Utah",
> "country": "US",
> "loc": "40.5247,-111.8638",
> "org": "AS26042 FiberState, LLC",
> "postal": "84020",
> "timezone": "America/Denver",
> "readme": "https://ipinfo.io/missingauth"
> ```
>
> 
>
> 4、让它变成“后台常驻服务
>
> md不对劲。。。装了个docker restart，结果虚拟机彻底挂了。。要重装了。。完蛋。
>
> 
>
>
> ```docker 启动
> sudo docker run -it --gpus all -p 8088:8088 \
>   -v /home/yahu/Qwen3-1.7B:/app/model \
>   --name sglang-qwen \
>   sglang:v0.4.7-cu124 \
>   python3 -m sglang.launch_server \
>   --model-path /app/model \
>   --host 0.0.0.0 \
>   --port 8088 \
>   --mem-fraction-static 0.8 \
>   --max-prefill-tokens 4096 \
>   --chunked-prefill-size 2048 \
>   --tool-call-parser qwen25 \
>   --max-total-tokens 32768
> ```
>
> 重装了半天md。。。。





> 12.16
>
> 更新了一下S4FC到.net 4.6.2
>
> 
>
> 改一下s4fc编译的结构
>
> C# add existing project拉进来
>
> C++编译出来的dll放在一个文件夹里 x64/x86做好区分
>
> C#编译的时候去拿
>
> 增加一下Readme说明一下两个sln
>
> ---
>
> 中午问了德政怎么弄这个虚机，搞了半天，扩容成功了，其实就是从本机硬盘虚拟化点空间给虚拟机。
>
> ```bash
> C:\Program Files\Oracle\VirtualBox>VBoxManage modifymedium disk "D:\VirtualBox VMs\chn-VM-331\VM-Win11-disk001.vdi" --resize 204800
> 
> //重置为200G
> ```
>





> 12.17
>
> 感觉这个s4fc我真的做了蛮多事情的。。。
>
> 把两个sln合成一个
>
> 编译方式output文件夹，和当前设备的形式一样
>
> 编译时拷贝dll到运行文件夹
>
> 更改aboutwindow通过loaded事件
>
> .h文件改成doxygen格式
>
> crash修复
>
>等于说是把S4FC的结构又做了些优化。



> 12.18
>
> haimin反馈了一个问题，就是s4fc在一直refresh的情况下会导致崩溃。
>
> 周报：
> 1、PDXC
>
> 2、S4FC





> 12.19
>
> PDXC改了一下注释
>
> S4FC新增了C++的demo文件



> 12.21
>
> 和小林去了长宁龙之梦（土土的二十周年庆）
>
> 晚上吃了很久以前，菜品虽比较单一，但羊肉串是真好吃啊。
>
> 约了元旦去南京玩玩。

> 12.22
>
> 周一
>
> S4FC，还是有些问题。
>
> 更新了windows10的sdk，编译时不编译demo。
>
> 有个问题是exe可以同时打开两个并运行（似乎是hid设备的缘故）
>
> ==学习==
>
> **C/C++ 下的 General 下的 `Additional Include Directories`** 是用来配置 `.h` 头文件的查找路径。编译器在编译过程中会根据这些路径查找头文件。
>
> **Link 下的 Input 下的 `Additional Dependencies`** 是用来配置 `.lib` 等静态库文件的查找路径。链接器在链接过程中会根据这些路径查找和链接相应的库文件。



> 12.23
>
> 鹿鹿病情很严重。。
>
> eason那台新的机器是arm64架构。
>
> arm64 和 amd64 架构不相同啊。
>
> 得换一个镜像源。
>
> https://docker.aityp.com/image/docker.io/gpustack/runner:cann8.2-910b-sglang0.5.2?platform=linux/arm64
>
>
> 下午请了半天假带鹿鹿看病去了，就是宝钢又一村那里的。（之前去过的）
>
> 查出来果然是那个病，子宫蓄脓，总共花了5700，其实还好，还是有点肉疼hh。
>
> 两天住医院，吊针要五天，希望鹿鹿早点好起来吧。



> 12.24
>
> 这个Spark-GB10机器很奇怪啊。
>
> 还好有个帖子。拉取sglang镜像要是spark专属版本的。
>
> 还好跑通了，sglang确实要比vllm快不少。
>
> https://github.com/sgl-project/sglang/issues/11658
>
> 镜像要拉这个：
>
> docker pull docker.m.daocloud.io/lmsysorg/sglang:spark



> 12.25
>
> 一直在测sglang的东西，并发上sglang做得更好些
>
> 晚上把鹿鹿接回来了，很开心，开始吃东西了。还得养



> 12.26
>
> sglang我自己测能比vllm快20%左右，但是实际在haimin那测只有10%左右的提升。
>
> haimin顺便也在测两个框架下的正确率
>
> 就很打脸，能做好的话会给eason那加点分应该。
>
> 用python写了几个测试脚本
>
> 也要给eason提供一下启动sglang的流程markdown



> 12.27
>
> 给小林买了点礼物，香草味香水
>
> 鹿鹿这几天，溜的时间大大缩短了，吃得不多，但感觉生了个病比之前听话了。
>
> 又睡在我床上，脏死了。
>
> 最近给我的感觉就是，经济形势（尤其是中国），正在大变，不炒房了，改炒贵金属了。每次都慢一步，没准是个跨越阶级的跳板。
>
> 



> 12.29
>
> 晚上白银、黄金就巨跌hh
>
> 没干啥事，就提供了环境给haimin测sglang



> 12.30
>
> 早上10.30，拉了个会，我也参与了一下，主要讲的是MicroSnap的升级吧。
>
> 其实MicroSnap就是一个工具，可以适配不同相机
>
> ThorImageCam诞生的初衷是为了只支持Thorlabs的相机
>
> 记了一下几个点：
>
> 1、主要改动发生在硬件管理config上，配置要看rubber.dll？（不同相机配不同stage，是这个意思？）
>
> 2、NI是通过环境变量找地址的
>
> 3、图分为classic-tiff 和 ome-tiff？
>
> 4、NI卡才有Trigger Channel
>
> 
>
> stdcall 和 cdecl
>
> **相同点**
>
> 参数入栈顺序相同：从右到左
>
> **不同点**
>
> 堆栈平衡方式不同：__stdcall自动清栈，__cdecl手动清栈。
>
> 返回指令不同：_stdcall使用retn x, __cdecl使用ret
>
> 编译后函数的修饰名不同： 假设有函数int foo(int a, int b), 采用__stdcall编译后的函数名为_foo@8，而采用__cdecl编译后的函数名为_foo。
>
> 支持可变参数的函数必须定义为__cdecl
>
> 
>
>
> hy让我研究一下改变注意力后端，看看显存占用率和性能有什么变化
>
> blackwell、hopper、ampere
>
> ![image-20251230135853056](C:\Users\xinliu\AppData\Roaming\Typora\typora-user-images\image-20251230135853056.png)





> 12.31
>
> 最后一天！
>
> 也没有开组会，挺好的。
